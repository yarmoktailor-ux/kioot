<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„ÙŠØ±Ù…ÙˆÙƒ Ø§Ù„Ø­Ø¯ÙŠØ« | Yarmok App 2026</title>
    <style>
        :root { --gold: #c5a059; --dark: #000000; --bg: #fdfbf7; --text: #1a1a1a; --gray: #f4f4f4; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); margin: 0; color: var(--text); overflow-x: hidden; }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„ÙØ§Ø®Ø± */
        .main-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; border-bottom: 2px solid var(--gold); position: sticky; top: 0; background: #fff; z-index: 1000; }
        .header-title { font-weight: bold; font-size: 22px; letter-spacing: 1px; color: var(--dark); }
        .header-icons { display: flex; gap: 20px; align-items: center; }
        .cart-icon { position: relative; cursor: pointer; }
        .cart-badge { position: absolute; top: -8px; right: -10px; background: var(--dark); color: white; font-size: 11px; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }

        /* Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ */
        .welcome-bar { background: var(--dark); color: var(--gold); padding: 10px; text-align: center; font-size: 13px; font-weight: bold; }

        /* Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª */
        .main-tabs { display: flex; background: #fff; border-bottom: 1px solid #eee; }
        .tab-btn { flex: 1; padding: 15px; border: none; cursor: pointer; font-weight: bold; background: #fff; color: #999; transition: 0.3s; border-bottom: 3px solid transparent; }
        .tab-btn.active { color: var(--gold); border-bottom-color: var(--gold); }

        .section { display: none; padding: 20px; max-width: 650px; margin: auto; }
        .section.active { display: block; }

        /* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØ§Ù„Ù…Ù‚Ø§Ø³Ø§Øª */
        .card-box { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); margin-bottom: 20px; border: 1px solid #eee; }
        .input-group { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px; }
        .input-group input { padding: 12px; border: 1px solid #ddd; border-radius: 8px; outline: none; }
        .measure-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 10px; }
        .measure-grid div { text-align: center; }
        .measure-grid label { font-size: 11px; font-weight: bold; color: var(--gold); display: block; margin-bottom: 5px; }
        .measure-grid input { width: 100%; padding: 8px; border: 1px solid #eee; border-radius: 5px; text-align: center; }

        /* Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ø¹Ù…Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¯Ù…Ø¬) */
        .product-item { background: white; margin-bottom: 30px; border-radius: 20px; overflow: hidden; border-bottom: 10px solid var(--gray); }
        .product-item img { width: 100%; height: auto; display: block; }
        .product-info { padding: 25px; }
        .p-title { font-size: 26px; font-weight: bold; margin: 0; }
        .p-price { font-size: 22px; color: var(--gold); font-weight: bold; margin: 10px 0; }
        
        .specs-table { background: var(--gray); border-radius: 10px; padding: 15px; margin: 15px 0; font-size: 14px; }
        .spec-line { display: flex; margin-bottom: 5px; }
        .spec-label { font-weight: bold; width: 110px; }

        /* Ø£Ù„ÙˆØ§Ù† ÙˆØ®ÙŠØ§Ø±Ø§Øª */
        .color-dot { width: 35px; height: 35px; border-radius: 50%; border: 2px solid #ddd; cursor: pointer; display: inline-block; margin-left: 10px; }
        .color-dot.active { border-color: var(--dark); }
        .type-chips { display: flex; gap: 10px; margin: 15px 0; }
        .chip { flex: 1; padding: 12px; border: 1px solid #ddd; border-radius: 8px; text-align: center; cursor: pointer; font-weight: bold; }
        .chip.active { background: var(--dark); color: white; border-color: var(--dark); }

        /* Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„ÙƒÙ…ÙŠØ© ÙˆØ£Ø²Ø±Ø§Ø± Ø§Ù„Ø£ÙƒØ´Ù† */
        .action-row { display: flex; gap: 10px; margin-top: 20px; }
        .qty-stepper { display: flex; align-items: center; border: 1px solid #ddd; border-radius: 8px; overflow: hidden; }
        .qty-stepper button { padding: 10px 15px; border: none; background: #eee; cursor: pointer; }
        .qty-stepper input { width: 40px; text-align: center; border: none; font-weight: bold; }
        .btn-black { flex: 1; padding: 15px; background: var(--dark); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
        .btn-outline { flex: 1; padding: 15px; background: white; border: 2px solid var(--dark); border-radius: 8px; font-weight: bold; cursor: pointer; }

        /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØ§Ù„Ø³Ù„Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        .side-panel { position: fixed; left: -100%; top: 0; width: 320px; height: 100%; background: white; z-index: 3000; transition: 0.4s; box-shadow: 5px 0 20px rgba(0,0,0,0.2); padding: 20px; box-sizing: border-box; }
        .side-panel.open { left: 0; }
        .admin-trigger { position: fixed; bottom: 20px; right: 20px; background: var(--dark); color: white; border: none; width: 50px; height: 50px; border-radius: 50%; cursor: pointer; z-index: 1000; }
        
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 4000; align-items: center; justify-content: center; }
        .modal-content { background: white; width: 90%; max-width: 500px; padding: 25px; border-radius: 20px; max-height: 90vh; overflow-y: auto; }
        .modal-content input, .modal-content textarea { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }

        /* Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ ÙÙŠ Ø§Ù„Ø³Ù„Ø© */
        .tailor-options { margin-top: 15px; border-top: 1px dashed #ddd; padding-top: 15px; }
        .opt-select { width: 100%; padding: 8px; margin-bottom: 5px; border-radius: 5px; border: 1px solid #eee; font-size: 12px; }

    </style>
</head>
<body>

    <div class="welcome-bar">âœ¨ Ø®ÙŠØ§Ø· Ø§Ù„ÙŠØ±Ù…ÙˆÙƒ: Ù†ØµÙ†Ø¹ Ù‡ÙŠØ¨ØªÙƒ Ø¨Ø¯Ù‚Ø© "Ø§Ù„Ø¹Ù…Ø§Ø±ÙŠ" ÙˆØ®Ø¨Ø±Ø© Ø§Ù„Ø³Ù†ÙŠÙ† âœ¨</div>

    <header class="main-header">
        <div class="header-icons">
            <div class="cart-icon" onclick="toggleCart()">
                <span class="cart-badge" id="cartBadge">0</span>
                <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
            </div>
            <span>ğŸ”</span>
        </div>
        <div class="header-title">YARMOK</div>
        <div style="font-size: 24px; cursor: pointer;">â˜°</div>
    </header>

    <div class="main-tabs">
        <button class="tab-btn active" onclick="switchTab('tailor', this)">Ø§Ù„ØªÙØµÙŠÙ„ ÙˆØ§Ù„Ù‚ÙŠØ§Ø³</button>
        <button class="tab-btn" onclick="switchTab('ready', this)">Ø§Ù„Ø¬Ø§Ù‡Ø² ÙˆØ§Ù„Ø£Ù‚Ù…Ø´Ø©</button>
    </div>

    <section id="section_tailor" class="section active">
        <div class="card-box">
            <h3 style="margin-top: 0; color: var(--gold);">ğŸ“‹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</h3>
            <div class="input-group">
                <input type="text" id="c_name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
                <input type="tel" id="c_phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„">
            </div>
            <h4 style="margin: 15px 0 5px; font-size: 14px;">ğŸ“ Ø³Ø¬Ù„ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª (Ø¨Ø§Ù„Ù‡Ù†Ø´)</h4>
            <div class="measure-grid">
                <div><label>Ø§Ù„Ø·ÙˆÙ„</label><input type="number" step="0.1" class="m-val"></div>
                <div><label>Ø§Ù„ÙƒØªÙ</label><input type="number" step="0.1" class="m-val"></div>
                <div><label>Ø§Ù„ÙŠØ¯</label><input type="number" step="0.1" class="m-val"></div>
                <div><label>Ø§Ù„ØµØ¯Ø±</label><input type="number" step="0.1" class="m-val"></div>
                <div><label>Ø§Ù„Ø±Ù‚Ø¨Ø©</label><input type="number" step="0.1" class="m-val"></div>
                <div><label>Ø§Ù„ÙƒØ¨Ùƒ</label><input type="number" step="0.1" class="m-val"></div>
                <div><label>Ø§Ù„Ø®Ø·ÙˆØ©</label><input type="number" step="0.1" class="m-val"></div>
                <div><label>ÙˆØ³Ø¹ Ø§Ù„ÙŠØ¯</label><input type="number" step="0.1" class="m-val"></div>
            </div>
        </div>
        <div id="tailor_list">
             <p style="text-align: center; color: #999; padding: 20px;">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ù…Ø§Ø´ Ù…Ù† Ù‚Ø³Ù… "Ø§Ù„Ø¬Ø§Ù‡Ø²" Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªÙØµÙŠÙ„..</p>
        </div>
    </section>

    <section id="section_ready" class="section">
        <div id="productDisplay">
            </div>
    </section>

    <div id="sideCart" class="side-panel">
        <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #eee; padding-bottom:15px;">
            <h3 style="margin:0;">Ø³Ù„Ø© Ø§Ù„Ø£Ù†Ø§Ù‚Ø©</h3>
            <button onclick="toggleCart()" style="background:none; border:none; font-size:24px;">&times;</button>
        </div>
        <div id="cartItemsList" style="margin-top:20px; height:70vh; overflow-y:auto;"></div>
        <div style="position: absolute; bottom: 20px; left: 20px; right: 20px; border-top: 1px solid #eee; padding-top: 15px;">
            <div style="display:flex; justify-content:space-between; font-weight:bold; margin-bottom:15px;">
                <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±ÙŠ:</span>
                <span id="cartTotal">0</span> YER
            </div>
            <button class="btn-black" style="width:100%" onclick="submitFinalOrder()">ØªØ£ÙƒÙŠØ¯ Ù‡ÙŠØ¨Ø© Ø§Ù„Ø·Ù„Ø¨</button>
        </div>
    </div>

    <button class="admin-trigger" onclick="openAdmin()">âš™ï¸</button>
    <div id="adminModal" class="modal">
        <div class="modal-content">
            <h3 style="text-align:center; color:var(--gold);">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ "Ø§Ù„ÙŠØ±Ù…ÙˆÙƒ Ø§Ù„Ø­Ø¯ÙŠØ«"</h3>
            <select id="adm_cat" style="width:100%; padding:12px; margin-bottom:10px; border-radius:8px;">
                <option value="fabric">Ù‚Ù…Ø§Ø´ (Ù„Ù„ØªÙØµÙŠÙ„)</option>
                <option value="ready">Ù…Ù†ØªØ¬ Ø¬Ø§Ù‡Ø²</option>
            </select>
            <input type="text" id="adm_title" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ (Ù…Ø«Ù„Ø§Ù‹: Ø³Ù…ÙŠØ±Ø§Ù…ÙŠØ³ ÙŠØ§Ø¨Ø§Ù†ÙŠ)">
            <input type="number" id="adm_price" placeholder="Ø§Ù„Ø³Ø¹Ø± (YER)">
            <input type="text" id="adm_origin" placeholder="Ø¨Ù„Ø¯ Ø§Ù„ØµÙ†Ø¹ (Ø§Ù„ÙŠØ§Ø¨Ø§Ù†ØŒ ÙƒÙˆØ±ÙŠØ§..)">
            <textarea id="adm_desc" placeholder="Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª (ÙˆØ§Ù‚ÙØŒ Ø«Ù‚ÙŠÙ„ØŒ Ø®ÙŠÙˆØ· Ø·ÙˆÙ„ÙŠØ©..)"></textarea>
            <input type="file" id="adm_file" onchange="handleFile(this)">
            <div style="display:flex; gap:10px; margin-top:10px;">
                <button onclick="saveProduct()" class="btn-black">Ù†Ø´Ø± Ø§Ù„Ù…Ù†ØªØ¬</button>
                <button onclick="closeAdmin()" class="btn-outline" style="border-color:#eee;">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </div>
    </div>

    <script>
        let db = [];
        let cart = [];
        let currentImg = "";

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        function switchTab(id, btn) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('section_'+id).classList.add('active');
            btn.classList.add('active');
        }

        // Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        function openAdmin() { document.getElementById('adminModal').style.display='flex'; }
        function closeAdmin() { document.getElementById('adminModal').style.display='none'; }
        function handleFile(input) {
            let r = new FileReader();
            r.onload = (e) => currentImg = e.target.result;
            r.readAsDataURL(input.files[0]);
        }

        function saveProduct() {
            const title = document.getElementById('adm_title').value;
            const price = document.getElementById('adm_price').value;
            const cat = document.getElementById('adm_cat').value;
            const origin = document.getElementById('adm_origin').value || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            const desc = document.getElementById('adm_desc').value || 'Ù‚Ù…Ø§Ø´ ÙØ§Ø®Ø±';

            if(!title || !price || !currentImg) return alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");

            db.push({ id: Date.now(), title, price: parseInt(price), cat, origin, desc, img: currentImg });
            renderProducts();
            closeAdmin();
        }

        function renderProducts() {
            const display = document.getElementById('productDisplay');
            display.innerHTML = db.map(p => `
                <div class="product-item">
                    <img src="${p.img}">
                    <div class="product-info">
                        <p style="color:#888; font-size:12px; margin-bottom:5px;">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© > ${p.cat === 'fabric' ? 'Ø£Ù‚Ù…Ø´Ø© ØªÙØµÙŠÙ„' : 'Ø¬Ø§Ù‡Ø²'}</p>
                        <h2 class="p-title">${p.title}</h2>
                        <div class="p-price">${p.price.toLocaleString()} YER</div>
                        
                        <div class="specs-table">
                            <div class="spec-line"><span class="spec-label">ğŸ“ Ø¨Ù„Ø¯ Ø§Ù„ØµÙ†Ø¹:</span> ${p.origin}</div>
                            <div class="spec-line"><span class="spec-label">ğŸ§µ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:</span> ${p.desc}</div>
                            <div class="spec-line"><span class="spec-label">ğŸ“ Ø§Ù„Ø¹Ø±Ø¶:</span> 58 Ø¥Ù†Ø´ (Ø¹Ø±Ø¶ÙŠÙ†)</div>
                        </div>

                        <label style="font-weight:bold; font-size:14px;">Ø§Ø®ØªØ± Ø§Ù„Ù„ÙˆÙ†:</label>
                        <div style="margin:10px 0;">
                            <div class="color-dot active" style="background:#fff;"></div>
                            <div class="color-dot" style="background:#f5f5dc;"></div>
                            <div class="color-dot" style="background:#ece0d1;"></div>
                        </div>

                        <label style="font-weight:bold; font-size:14px;">Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù…Ø®ØªØµ:</label>
                        <div class="type-chips">
                            <div class="chip active">Ù…ØªØ± / Ù‚Ø·Ø¹Ø©</div>
                            <div class="chip">Ø·Ø§Ù‚Ø© ÙƒØ§Ù…Ù„Ø©</div>
                        </div>

                        <div class="action-row">
                            <div class="qty-stepper">
                                <button onclick="this.nextElementSibling.value++">+</button>
                                <input type="number" value="1" readonly>
                                <button onclick="if(this.previousElementSibling.value > 1) this.previousElementSibling.value--">âˆ’</button>
                            </div>
                            <button class="btn-outline" onclick="addToCart(${p.id}, 'add')">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© ğŸ›’</button>
                            <button class="btn-black" onclick="addToCart(${p.id}, 'buy')">Ø§Ø´ØªØ±ÙŠ Ø§Ù„Ø¢Ù†</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function toggleCart() { document.getElementById('sideCart').classList.toggle('open'); }

        function addToCart(id, type) {
            const product = db.find(x => x.id === id);
            cart.push({...product});
            updateCartUI();
            if(type === 'buy') toggleCart();
            else alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©");
        }

        function updateCartUI() {
            document.getElementById('cartBadge').innerText = cart.length;
            const list = document.getElementById('cartItemsList');
            let total = 0;
            list.innerHTML = cart.map((item, index) => {
                total += item.price;
                return `
                    <div style="display:flex; gap:10px; margin-bottom:15px; border-bottom:1px solid #f9f9f9; padding-bottom:10px;">
                        <img src="${item.img}" style="width:60px; height:60px; border-radius:5px; object-fit:cover;">
                        <div style="flex:1">
                            <div style="font-weight:bold; font-size:14px;">${item.title}</div>
                            <div style="color:var(--gold); font-size:13px;">${item.price} YER</div>
                            ${item.cat === 'fabric' ? `
                                <div class="tailor-options">
                                    <select class="opt-select"><option>Ø±Ù‚Ø¨Ø©: Ù‚Ù„Ø§Ø¨ Ù…Ù„ÙƒÙŠ</option><option>Ø±Ù‚Ø¨Ø©: ØµÙŠÙ†ÙŠ</option></select>
                                    <select class="opt-select"><option>ÙŠØ¯: ÙƒØ¨Ùƒ</option><option>ÙŠØ¯: Ø³Ø§Ø¯Ø©</option></select>
                                </div>
                            ` : ''}
                        </div>
                        <button onclick="cart.splice(${index},1); updateCartUI();" style="border:none; background:none; color:red;">ğŸ—‘ï¸</button>
                    </div>
                `;
            }).join('');
            document.getElementById('cartTotal').innerText = total.toLocaleString();
        }

        function submitFinalOrder() {
            const name = document.getElementById('c_name').value;
            if(!name || cart.length === 0) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ø®ØªÙŠØ§Ø± Ù…Ù†ØªØ¬Ø§Øª");
            
            let msg = `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù†: ${name}\nØ§Ù„Ø±Ù‚Ù…: ${document.getElementById('c_phone').value}\n\nØ§Ù„Ù…Ù†ØªØ¬Ø§Øª:\n`;
            cart.forEach(i => msg += `- ${i.title} (${i.price} YER)\n`);
            msg += `\nØ§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${document.getElementById('cartTotal').innerText} YER`;
            
            console.log("Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨:", msg);
            alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ø®ÙŠØ§Ø· Ø§Ù„ÙŠØ±Ù…ÙˆÙƒ Ø¨Ù†Ø¬Ø§Ø­!");
            cart = [];
            updateCartUI();
            toggleCart();
        }
    </script>
</body>
</html>
